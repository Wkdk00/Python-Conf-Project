# Визуализатор графа зависимостей

---
## Этап 1

Минимальный CLI-прототип инструмента для анализа зависимостей пакетов.  
На данном этапе реализована только загрузка и валидация конфигурации.

## Требования

- Python 3.7+
- Библиотека `toml`

Установка зависимостей:
```bash
pip install toml
```

## Использование

1. Создайте конфигурационный файл в формате TOML (см. `config.toml.example`).
2. Запустите приложение, указав путь к файлу:

```bash
python main.py config.toml
```

Приложение выведет все настраиваемые параметры в формате `ключ = значение`.

## Настраиваемые параметры

- `package_name` — имя анализируемого пакета (строка)
- `repository_url` — URL репозитория или путь к локальному файлу (строка)
- `repo_mode` — режим работы: `local` или `remote` (строка)
- `package_version` — версия пакета (строка)
- `max_depth` — максимальная глубина анализа зависимостей (целое число ≥ 0)

Все параметры обязательны. При ошибках в конфигурации выводится понятное сообщение.

---

## Этап 2

Реализована логика получения **прямых зависимостей** указанного npm-пакета заданной версии **без использования менеджеров пакетов**.

### Особенности реализации:
- Поддерживается только режим `repo_mode = "remote"`.
- Запрос отправляется к публичному npm registry: `https://registry.npmjs.org/{package}/{version}`.
- Ответ парсится с помощью стандартной библиотеки (`json`, `urllib`).
- Извлекается поле `dependencies` из метаданных пакета.
- Все прямые зависимости выводятся в формате `имя@версия`.
- Реализована обработка ошибок:
  - HTTP-ошибки (404, 500 и т.д.)
  - Некорректный JSON
  - Проблемы с сетью
  - Неизвестные исключения

### Пример конфигурации (`conf.toml`):
```toml
package_name = "express"
repository_url = "https://registry.npmjs.org"
repo_mode = "remote"
package_version = "4.18.2"
max_depth = 3
```

### Запуск:
```bash
python main.py conf.toml
```

Пример вывода:
```
package_name = express
repository_url = https://registry.npmjs.org
repo_mode = remote
package_version = 4.18.2
max_depth = 3
Прямые зависимости:
accepts@~1.3.8
array-flatten@1.1.1
body-parser@2.0.1
...
```